<!DOCTYPE html> <html lang=en> <head> <title>Damian Zaremba - Blog</title> <meta charset=utf-8> <meta http-equiv=X-UA-Compatible content="IE=edge"> <meta name=viewport content="width=device-width, initial-scale=1"> <meta http-equiv=Content-Type content="text/html; charset=UTF-8"/> <meta name=description content="Damian Zaremba's Blog"/> <meta name=google-site-verification content=qykIg-4DghoGe78ET4eRjKG1cx6n3gXvu4jF0FvcwRo /> <meta name=author content="Damian Zaremba"/> <link rel=alternate type="application/rss+xml" title="Damian Zaremba's Blog" href="http://feeds.feedburner.com/DamianZaremba"/> <meta name=robots content=INDEX /> <meta name=robots content=FOLLOW /> <meta name=robots content="INDEX,FOLLOW"/> <link href="/assests/css/bootstrap.min.css?_v=58a49b3689d699cb72ffda7252d99fcb" rel=stylesheet> <link href="/assests/css/main.css?_v=d2c89647dc3d0886383e347a9048f62c" rel=stylesheet> </head> <body> <nav class="navbar navbar-default navbar-fixed-top"> <div class=container> <div class=navbar-header> <button type=button class="navbar-toggle collapsed" data-toggle=collapse data-target="#navbar" aria-expanded=false aria-controls=navbar> <span class=sr-only>Toggle navigation</span> <span class=icon-bar></span> <span class=icon-bar></span> <span class=icon-bar></span> </button> <a class=navbar-brand href="/">Damian Zaremba</a> </div> <div id=navbar class="navbar-collapse collapse"> <ul class="nav navbar-nav"> <li class=active><a href="/">Blog</a></li> <li class=""><a href="/about/">About</a></li> <li class=""><a href="/cv/">CV</a></li> <li class=""><a href="/archive/">Archive</a></li> <li class=""><a href="/projects/">Projects</a></li> </ul> <div class="social-icons navbar-right visible-md visible-lg"> <a href="http://twitter.com/DamianZaremba"> <img class=twitter src="/assests/images/twitter.png?_v=5c9d07bd2ff1f5224934583b6be57b0a" alt=Twitter /> </a> <a href="https://github.com/DamianZaremba"> <img class=github src="/assests/images/github.png?_v=438c17272c5f0e9f4a6da34d3e4bc5bd" alt=GitHub /> </a> <a href="http://feeds.feedburner.com/DamianZaremba"> <img class=rss src="/assests/images/rss.png?_v=f6fa89d6cfe5f5e95f0f87205d8c4b11" alt=RSS /> </a> </div> </div> </div> </nav> <div class=container> <article class=post> <h1 class=title><a href="/2011/08/mysql-uses-no-space-on-cpanel/">MySQL uses no space on cPanel</a></h1> <div class=meta> <span><img src="/assests/images/date.png?_v=1673aede74ad16063dfcd243a3d61d41" title=Date alt=Date />23 Aug 2011</span> <span><img src="/assests/images/comments.png?_v=33159642eac6a274ec5483d1bc54f52c" title=Content alt=Content /><a href="/2011/08/mysql-uses-no-space-on-cpanel/#disqus_thread">Comments</a></span> <ul class=categories> <li><a href='/tag/cpanel'>Cpanel</a></li><li><a href='/tag/knowledge-base'>Knowledge base</a></li><li><a href='/tag/linux'>Linux</a></li><li><a href='/tag/cpanel.config'>Cpanel.config</a></li><li><a href='/tag/mysql'>Mysql</a></li></ul> </div> <div class=entry> <p>For some reason cPanel decided to start by default excluding sql databases from the disk usage stats.</p> <p>To enable these again edit the /var/cpanel/cpanel.config file and change disk_usage_include_sqldbs from 0 to 1.</p> <p>After running /scripts/update_db_cache you should now see disk stats in the interface once again.</p> <p>Note: SQL database usage stats can be quite intensive to calculate so you may want to leave it off.</p> </div> </article> <article class=post> <h1 class=title><a href="/2011/08/install-postgresql-on-cpanel/">Install PostgreSQL on cPanel</a></h1> <div class=meta> <span><img src="/assests/images/date.png?_v=1673aede74ad16063dfcd243a3d61d41" title=Date alt=Date />23 Aug 2011</span> <span><img src="/assests/images/comments.png?_v=33159642eac6a274ec5483d1bc54f52c" title=Content alt=Content /><a href="/2011/08/install-postgresql-on-cpanel/#disqus_thread">Comments</a></span> <ul class=categories> <li><a href='/tag/cpanel'>Cpanel</a></li><li><a href='/tag/knowledge-base'>Knowledge base</a></li><li><a href='/tag/postgresql'>Postgresql</a></li><li><a href='/tag/cpanel'>Cpanel</a></li><li><a href='/tag/hack'>Hack</a></li><li><a href='/tag/pgsql'>Pgsql</a></li><li><a href='/tag/postgresql'>Postgresql</a></li></ul> </div> <div class=entry> <p>To install PostgreSQL on a cPanel server you can perform the following:</p> <ol> <li>Run /scripts/installpostgres</li> <li>Go to SQL services -> Postgre config and click Install config</li> <li>Configure a root password for Postgre 4 Enable Postgre with chkconfig postgres on; service postgres restart</li> </ol> <p>Now you would think that is it, right? Well if you already have users on the box you will now need to add them into postgre otherwise they will have no access.</p> <p>You can add them with the following script:</p> <pre><code class="text">for user in $(ls /var/cpanel/users);
do
 su postgres -c "createuser -S -D -R $user";
done
</code></pre> </div> </article> <article class=post> <h1 class=title><a href="/2011/08/http-basic-authentication-apache/">HTTP basic authentication - Apache</a></h1> <div class=meta> <span><img src="/assests/images/date.png?_v=1673aede74ad16063dfcd243a3d61d41" title=Date alt=Date />23 Aug 2011</span> <span><img src="/assests/images/comments.png?_v=33159642eac6a274ec5483d1bc54f52c" title=Content alt=Content /><a href="/2011/08/http-basic-authentication-apache/#disqus_thread">Comments</a></span> <ul class=categories> <li><a href='/tag/foss'>FOSS</a></li><li><a href='/tag/knowledge-base'>Knowledge base</a></li><li><a href='/tag/apache'>Apache</a></li><li><a href='/tag/authentication'>Authentication</a></li><li><a href='/tag/htaccess'>Htaccess</a></li><li><a href='/tag/http-basic'>Http basic</a></li></ul> </div> <div class=entry> <p>Method 1) Inside the directory you wish to protect include a .htaccess file with the following content:</p> <pre><code class="text">AuthUserFile /some/secure/path/outside/the/public/docs/.htpasswd
AuthName "My secure area"
AuthType Basic
Require valid-user
</code></pre> <p>Method 2) In your apache config file add the following:</p> <pre><code class="text">&lt;Directory /path/to/directory/to/protect/&gt;
 AuthUserFile /some/secure/path/outside/the/public/docs/.htpasswd
 AuthName "My secure area"
 AuthType Basic
 Require valid-user
&lt;/Directory&gt;
</code></pre> <p>Now you have configured apache for authentication you need to create a password "databases". This is a file in a format apache can understand.</p> <p>You can create it with the htpasswd command:</p> <pre><code class="text">htpasswd -c /some/secure/path/outside/the/public/docs/.htpasswd myusername
</code></pre> <p>Once you have your password database, if you need to update a users password or add more users you can use the htpasswd command without the -c option, like so:</p> <pre><code class="text">htpasswd /some/secure/path/outside/the/public/docs/.htpasswd myusername
</code></pre> </div> </article> <article class=post> <h1 class=title><a href="/2011/08/getting-rid-of-cpanel-ip-check-errors/">Getting rid of cPanel IP Check errors</a></h1> <div class=meta> <span><img src="/assests/images/date.png?_v=1673aede74ad16063dfcd243a3d61d41" title=Date alt=Date />23 Aug 2011</span> <span><img src="/assests/images/comments.png?_v=33159642eac6a274ec5483d1bc54f52c" title=Content alt=Content /><a href="/2011/08/getting-rid-of-cpanel-ip-check-errors/#disqus_thread">Comments</a></span> <ul class=categories> <li><a href='/tag/cpanel'>Cpanel</a></li><li><a href='/tag/knowledge-base'>Knowledge base</a></li><li><a href='/tag/linux'>Linux</a></li><li><a href='/tag/software'>Software</a></li><li><a href='/tag/error'>Error</a></li><li><a href='/tag/ipcheck'>Ipcheck</a></li></ul> </div> <div class=entry> <p>On Linux servers behind NAT you will start getting emails warning that the DNS setup is broken.</p> <p>cPanel states that the panel does not work behind NAT and the boxes need <strong>public</strong> ip addresses.</p> <p>It seems that apart from this warning the panel and services function fine behind NAT (as expected) and while I wouldn't recommend it, sometimes you have no choice.</p> <p>The email you get though is something like the following:</p> <pre><code class="text">[ipcheck] Problem with DNS setup on myserver.local

IMPORTANT: Do not ignore this email.

The hostname (myserver.local) resolves to 10.0.0.1. It should resolve to 192.168.0.1.
Please be sure to correct /etc/hosts as well as the 'A' entry in zone file for the domain.

Some are all of these problems can be caused by /etc/resolv.conf being setup incorrectly.
Please check this file if you believe everything else is correct.
</code></pre> <p>The best way I find of "fixing" this is to just disable the "Ip address dns check" option in the contact manager.</p> <p>You could alternatively comment out the check in /scripts/maintenance, however this will be lost in updates.</p> </div> </article> <article class=post> <h1 class=title><a href="/2011/08/force-pecl-to-install-64bit-modules/">Force PECL to install 64bit modules</a></h1> <div class=meta> <span><img src="/assests/images/date.png?_v=1673aede74ad16063dfcd243a3d61d41" title=Date alt=Date />23 Aug 2011</span> <span><img src="/assests/images/comments.png?_v=33159642eac6a274ec5483d1bc54f52c" title=Content alt=Content /><a href="/2011/08/force-pecl-to-install-64bit-modules/#disqus_thread">Comments</a></span> <ul class=categories> <li><a href='/tag/knowledge-base'>Knowledge base</a></li><li><a href='/tag/linux'>Linux</a></li><li><a href='/tag/php'>Php</a></li><li><a href='/tag/pecl'>Pecl</a></li><li><a href='/tag/php'>Php</a></li><li><a href='/tag/x64'>X64</a></li></ul> </div> <div class=entry> <p>To ensure PECL installs 64bit modules you need to install the 64bit php-devel package.</p> <p>On a RHEL system perform the following:</p> <ol> <li>pecl uninstall</li> <li>yum remove php-devel.i386</li> <li>yum install php-devel.x86_64</li> <li>pecl install</li> </ol> <p>Any further modules will now be 64bit.</p> </div> </article> <nav id=page_nav> <a href="/5/" class=prev>&laquo; Previous Page</a> <a href="/7/" class=next>Next Page &raquo;</a> </nav> </div> <footer class=footer> <div class=container> <p class=text-muted>Copyright 2009-2017 <a href="http://damianzaremba.co.uk">Damian Zaremba</a></p> <ul id=ads> <li>Need error tracking? Try <a href="https://getsentry.com/signup/r_D0ZW/">Sentry</a></li> <li>Need cloud instances? Jump on <a href="http://www.bigv.io">BigV</a></li> <li>Want my website? <a href="https://github.com/DamianZaremba/damianzaremba.co.uk/">Source</a></li> </ul> </div> </footer> <script src="/assests/js/jquery.min.js?_v=5790ead7ad3ba27397aedfa3d263b867"></script> <script src="/assests/js/bootstrap.min.js?_v=046ba2b5f4cff7d2eaaa1af55caa9fd8"></script> <script type="text/javascript">var _gaq=_gaq||[];_gaq.push(["_require","inpage_linkid","//www.google-analytics.com/plugins/ga/inpage_linkid.js"]);_gaq.push(["_setAccount","UA-11817192-1"]);_gaq.push(["_setDomainName","damianzaremba.co.uk"]);_gaq.push(["_trackPageview"]);(function(){var b=document.createElement("script");b.type="text/javascript";b.async=true;b.src="//stats.g.doubleclick.net/dc.js";var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(b,a)})();(function(){var a=document.createElement("script");a.type="text/javascript";a.async=true;a.src="//damianzaremba.disqus.com/count.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(a)}());</script> <!--[if lt IE 9]><script src="/assests/js/html5shiv.min.js?_v=3044234175ac91f49b03ff999c592b85"></script> <script src="/assests/js/respond.min.js?_v=afc1984a3d17110449dc90cf22de0c27"></script><![endif]--> </body> </html>
<!DOCTYPE HTML>
<html>
<head>
    <title>Damian Zaremba - Blog</title>

    <!-- General meta data -->
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="description" content="Damian Zaremba's Blog" />
    <meta name="copyright" content=">Copyright 2009-2012 Damian Zaremba" />
    <meta name="author" content="Damian Zaremba" />
    <link rel="alternate" type="application/rss+xml" title="Damian Zaremba's Blog" href="http://feeds.feedburner.com/DamianZaremba" />

    <!-- Robot meta data -->
    <meta name="robots" content="INDEX" />
    <meta name="robots" content="FOLLOW" />
    <meta name="robots" content="INDEX,FOLLOW" />
    <meta name="revisit" content="7 days" />

    <!-- M$ meta data -->
    <meta name="classification" content="GENERAL" />
    <meta name="distribution" content="GLOBAL" />
    <meta name="audience" content="all" />
    <meta name="MSSmartTagsPreventParsing" content="TRUE" />

    <!-- CSS files -->
    <link href="/assests/css/main.css" rel="stylesheet" type="text/css" />

    <!-- JS files -->
    <script src="http://mint.damianzaremba.co.uk/?js" type="text/javascript"></script>
    <script type="text/javascript">
        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-11817192-1']);
        _gaq.push(['_setDomainName', 'damianzaremba.co.uk']);
        _gaq.push(['_trackPageview']);

        (function() {
            var ga = document.createElement('script');
            ga.type = 'text/javascript';
            ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www');
            ga.src += '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(ga, s);
        })();

        (function(d, s, id) {
            var js, fjs = d.getElementsByTagName(s)[0];
            if (d.getElementById(id)) return;
            js = d.createElement(s); js.id = id;
            js.src = "//connect.facebook.net/en_GB/all.js#xfbml=1&appId=126887194078923";
            fjs.parentNode.insertBefore(js, fjs);
        }(document, 'script', 'facebook-jssdk'));

        window.___gcfg = {lang: 'en-GB'};
        (function() {
            var po = document.createElement('script');
            po.type = 'text/javascript';
            po.async = true;
            po.src = 'https://apis.google.com/js/plusone.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(po, s);
        })();
    </script>

    <!-- IE fixes -->
    <!--[if IE]>
        /* hover.htc fixes a bunch of issues with hovering objects in IE */
        body {
            behavior: url("/assests/other/hover.htc");
        }
    <![endif]-->

    <!--
    Site rendered at: 2012-08-19 00:37:20 +0100 by Jekyll.
    RIPA NOTICE: No consent is given for the interception of this page transmission
    -->
</head>

<body>
    <header>
        <h1><a href="/">Damian Zaremba</a> <span>Blog</span></h1>

        <nav>
            <ul id="main">
               <li><a href="/">Blog</a></li>
               <li><a href="/archives">Archives</a></li>
               <li><a href="/about">About</a></li>
               <li><a href="/cv">CV</a></li>
            </ul>
        </nav>

        <div id="right">
            <p>
                <a href="http://twitter.com/DamianZaremba" title="Twitter"><img src="/assests/images/twitter.png" /></a>
                <a href="https://github.com/DamianZaremba" title="GitHub"><img src="/assests/images/github.png" /></a>
                <a href="http://feeds.feedburner.com/DamianZaremba" title="RSS"><img src="/assests/images/rss.png" /></a>
            </p>
            <form class="search" action="http://google.com/search" method="get">
                <input class="left" type="text" name="q" results="0">
                <input type="hidden" name="q" value="site:damianzaremba.co.uk">
            </form>
        </div>
</header>

<div id="content">

	
	<article class="post">
	    <h1 class="title"><a href="/2012/04/radius-authentication-on-a-hp-procurve-switch/">RADIUS authentication on a HP ProCurve switch</a></h1>
	    <div class="meta">
        	<span><img src="/assests/images/date.png" />01 Apr 2012</span>
        	<span><img src="/assests/images/comments.png" /><a href="/2012/04/radius-authentication-on-a-hp-procurve-switch/#disqus_thread">Comments</a></span>
 			
	        	<ul id="categories">
	        	<li><a href='How-to'>How-to</a></li><li><a href='Software'>Software</a></li><li><a href='Work'>Work</a></li></ul>
	    	
	    </div>
	    <div class="entry">
	        <p>To configure a HP ProCurve switch for RADIUS authentication you need to use radius-server with the following syntax.</p>

<div class="highlight"><pre><code class="text">radius-server host serverIp key &quot;SecretKeyHere&quot;
</code></pre>
</div>


<p>Once this is setup you need to configure the switch to authenticate against the radius server.</p>

<div class="highlight"><pre><code class="text">aaa authentication login privilege-mode 
aaa authentication console login radius local 
aaa authentication console enable radius local 
aaa authentication telnet login radius local 
aaa authentication telnet enable radius local 
aaa authentication web login radius local 
aaa authentication ssh login radius local 
aaa authentication ssh enable radius local 
</code></pre>
</div>


<p>We include the local option so that in the event of the RADIUS server being down we can still authenticate.</p>

	    </div>
	</article>
	
	<article class="post">
	    <h1 class="title"><a href="/2012/04/radius-authentication-on-a-hp-gbe2c-l2-l3-blade-switch/">RADIUS authentication on a HP GbE2c L2/L3 Blade Switch</a></h1>
	    <div class="meta">
        	<span><img src="/assests/images/date.png" />01 Apr 2012</span>
        	<span><img src="/assests/images/comments.png" /><a href="/2012/04/radius-authentication-on-a-hp-gbe2c-l2-l3-blade-switch/#disqus_thread">Comments</a></span>
 			
	        	<ul id="categories">
	        	<li><a href='How-to'>How-to</a></li><li><a href='Software'>Software</a></li><li><a href='Work'>Work</a></li></ul>
	    	
	    </div>
	    <div class="entry">
	        <p>To configure a HP GbE2c L2/L3 Ethernet Blade Switch for RADIUS authentication you need to use radius-server with the following syntax.</p>

<div class="highlight"><pre><code class="text">radius-server primary-host serverIp
radius-server primary-host serverIp key &quot;SecretKeyHere&quot;
radius-server port 1812
radius-server timeout 10
radius-server enable
no radius-server telnet-backdoor
radius-server secure-backdoor
</code></pre>
</div>


<p>The first and second lines setup the server/key to authenticate against.</p>

<p>The third/forth defines the port/timeout for the server we configured in the first lines.</p>

<p>The last 3 then enable the server and enable a backdoor so we can authenticate against the switch if the RADIUS server is down.</p>

	    </div>
	</article>
	
	<article class="post">
	    <h1 class="title"><a href="/2012/03/sntp-on-a-hp-procurve-switch/">SNTP on a HP ProCurve switch</a></h1>
	    <div class="meta">
        	<span><img src="/assests/images/date.png" />18 Mar 2012</span>
        	<span><img src="/assests/images/comments.png" /><a href="/2012/03/sntp-on-a-hp-procurve-switch/#disqus_thread">Comments</a></span>
 			
	        	<ul id="categories">
	        	<li><a href='How-to'>How-to</a></li></ul>
	    	
	    </div>
	    <div class="entry">
	        <p>Configuring NTP for switches is a rather simple process, however the syntax varies depending on the switch OS.</p>

<p>Most switches use SNTP rather than NTP, SNTP is basically NTP but lacks some of the more advanced internal algorithms and is slightly less accurate.</p>

<p>To configure a ProCurve you need to use SNTP with the following syntax.</p>

<div class="highlight"><pre><code class="text">sntp server &lt;ip&gt;
sntp unicast
timesync sntp
</code></pre>
</div>


<p>The first line defines what IP to sync with, the second tells the switch to use unicast UDP rather than TCP and the third tells the switch to sync it's time with the SNTP server.</p>

<p>This needs to be done in configure mode which can be got into via enable mode.</p>

<div class="highlight"><pre><code class="text">enable
configure
</code></pre>
</div>


<p>Once the switch is syncing with the SNTP server you can check the time is correct with</p>

<div class="highlight"><pre><code class="text">show time
</code></pre>
</div>


<p>Lastly just save the changes then logout</p>

<div class="highlight"><pre><code class="text">write mem
logout
</code></pre>
</div>


<p>A full example of this is below:</p>

<div class="highlight"><pre><code class="text">Switch&gt; en
Switch# conf
Switch(config)# sntp server 79.142.192.4
Switch(config)# sntp unicast
Switch(config)# timesync sntp
Switch(config)# exit
Switch# write mem
Switch# logout
</code></pre>
</div>


<p>Your switches should now keep their time in sync :)</p>

	    </div>
	</article>
	


<nav id="page_nav">
	

    <a href="/archives/" class="center">Blog Archives</a>

	
    <a href="/page/2/" class="next">Next</a>
    
</nav>
</div>

<footer>
    <p class="copyright">Copyright 2009-2012 <a href="http://damianzaremba.co.uk">Damian Zaremba</a></p>
    <p class="ads">
        <ul id="ads">
            <li>Need error logging? Try <a href="https://getsentry.com/signup/r_D0ZW/">Sentry</a></li>
            <li>Need hosting? Try <a href="http://www.vision108.com/">Vision180</a></li>
            <li>Want my website? <a href="http://github.com/DamianZaremba/damianzaremba.co.uk/">Source</a></li>
        </ul>
    </p>
</footer>

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7/jquery.min.js"></script>
<!--[if lt IE 9]>
<script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
<script type="text/javascript">
    !window.jQuery && document.write(unescape('%3Cscript src="/assests/js/jquery.js"%3E%3C/script%3E'))
</script>
<![endif]-->

<script type="text/javascript">
    !window.jQuery && document.write(unescape('%3Cscript src="/assests/js/jquery.js"%3E%3C/script%3E'))

    var disqus_shortname = 'damianzaremba';
    var disqus_script = 'count.js';

    (function () {
        var dsq = document.createElement('script');
        dsq.type = 'text/javascript';
        dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>
</body>
</html>
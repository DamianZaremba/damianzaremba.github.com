<!DOCTYPE html> <html lang=en> <head> <title>Damian Zaremba - A look at traffic encryption options</title> <meta charset=utf-8> <meta http-equiv=X-UA-Compatible content="IE=edge"> <meta name=viewport content="width=device-width, initial-scale=1"> <meta http-equiv=Content-Type content="text/html; charset=UTF-8"/> <meta name=google-site-verification content=qykIg-4DghoGe78ET4eRjKG1cx6n3gXvu4jF0FvcwRo /> <meta name=author content="Damian Zaremba"/> <link rel=alternate type="application/rss+xml" title="Damian Zaremba's Blog" href="http://feeds.feedburner.com/DamianZaremba"/> <meta name=robots content=INDEX /> <meta name=robots content=FOLLOW /> <meta name=robots content="INDEX,FOLLOW"/> <link href="/assests/css/bootstrap.min.css?_v=58a49b3689d699cb72ffda7252d99fcb" rel=stylesheet> <link href="/assests/css/main.css?_v=d2c89647dc3d0886383e347a9048f62c" rel=stylesheet> </head> <body> <nav class="navbar navbar-default navbar-fixed-top"> <div class=container> <div class=navbar-header> <button type=button class="navbar-toggle collapsed" data-toggle=collapse data-target="#navbar" aria-expanded=false aria-controls=navbar> <span class=sr-only>Toggle navigation</span> <span class=icon-bar></span> <span class=icon-bar></span> <span class=icon-bar></span> </button> <a class=navbar-brand href="/">Damian Zaremba</a> </div> <div id=navbar class="navbar-collapse collapse"> <ul class="nav navbar-nav"> <li class=active><a href="/">Blog</a></li> <li class=""><a href="/about/">About</a></li> <li class=""><a href="/cv/">CV</a></li> <li class=""><a href="/archive/">Archive</a></li> <li class=""><a href="/projects/">Projects</a></li> </ul> <div class="social-icons navbar-right visible-md visible-lg"> <a href="http://twitter.com/DamianZaremba"> <img class=twitter src="/assests/images/twitter.png?_v=5c9d07bd2ff1f5224934583b6be57b0a" alt=Twitter /> </a> <a href="https://github.com/DamianZaremba"> <img class=github src="/assests/images/github.png?_v=438c17272c5f0e9f4a6da34d3e4bc5bd" alt=GitHub /> </a> <a href="http://feeds.feedburner.com/DamianZaremba"> <img class=rss src="/assests/images/rss.png?_v=f6fa89d6cfe5f5e95f0f87205d8c4b11" alt=RSS /> </a> </div> </div> </div> </nav> <div class=container> <article class=post> <h1 class=title><a href="/2017/12/a-look-at-traffic-encryption-options/">A look at traffic encryption options</a></h1> <div class=meta> <span><img src="/assests/images/date.png?_v=1673aede74ad16063dfcd243a3d61d41" title=Date alt=Date />26 Dec 2017</span> <span><img src="/assests/images/comments.png?_v=33159642eac6a274ec5483d1bc54f52c" title=Content alt=Content /><a href="/2017/12/a-look-at-traffic-encryption-options/#disqus_thread">Comments</a></span> <ul class=categories> <li><a href='/tag/network'>Network</a></li><li><a href='/tag/security'>Security</a></li></ul> </div> <div class=entry> <p>Given a post <a href="/2017/12/a-look-at-low-cost-tap-aggregation/">highlighting the cost effectiveness</a> of deploying network taps, it would make sense to look at the other side; encryption.</p> <h1>Intro</h1> <p>It is commonly accepted to use TLS when accessing services over the internet, whether they are based on HTTP, SMTP, IMAP, POP, FTP or any number of other protocols.</p> <p>It is also commonly accepted to terminate those TLS connections on the edge, handling all internal communications in plain text. This is for a number of reasons around scalability, performance and trust.</p> <p>As technology stacks have matured, a number of security standards have been created, including those for card handling (PCI DDS); many of these still contain phrasing such as '<a href="https://www.pcisecuritystandards.org/pdfs/pci_ssc_quick_guide.pdf">encrypt transmission of cardholder data across open, public networks</a>', with the definitions being open to interpretation.</p> <p>Pause for a moment and consider if these scenarios are 'across open, public networks':</p> <ul> <li>A point to point circuit provided over an external 'dark fibre' (DWDM or similar) network</li> <li>A point to point wireless link between 2 buildings provided by a 3rd party</li> <li>Cross connections between 2 suites within a datacenter, via the meet me room</li> </ul> <p>I imagine most people would argue these are private:</p> <ul> <li>All services are dedicated to you</li> <li>Traffic is isolated from other customers</li> <li>You control both ends of the connection</li> </ul> <p>However, there are also risks, as they all pass through physical assets you don't control:</p> <ul> <li>Traffic interception; it has been widely published that data from the likes of Google has been intercepted and used for profiling activities</li> <li>Network access; As with a physical intrusion to your rack/office, it may be possible to gain network access via a cross-connect, or inter-site link, depending on topology</li> <li>Redundancy; A targeted attack on physical infrastructure could place your business operations at risk</li> </ul> <p>Thankfully, most providers and many ISO standards have well defined physical access controls, which limit the possibilities of the above however that isn't very effective against a nation-state, or a cyber-based attack on a provider.</p> <p>Many businesses have a wealth of information useful to a nation-state, from habits and preferences to medical or travel data. It might be paranoia until they're out to get you.</p> <p>Ultimately this comes down to risk management and if you want to be 'compliant' or 'secure' in regards to your customer's data.</p> <p>Assuming we want to encrypt data end-to-end, let's look at the technologies available.</p> <h1>TLS</h1> <p>As briefly noted above, the standard for encryption in the public network space is <a href="https://en.wikipedia.org/wiki/Transport_Layer_Security">Transport Layer Security</a> (TLS).</p> <p>There are multiple implementations of TLS, with 1.2 currently being the standard (1.3 is in draft), the version and associated cryptographic ciphers are usually associated with the support requirements; many older browsers and SSL libraries don't support the most secure choices.</p> <p>A good starting point is the excellent <a href="https://cipherli.st/">cipherli.st</a> site, highlighting secure configs for most platforms.</p> <p>The results should then be checked, either using <code>openssl s_client</code>, <a href="https://www.ssllabs.com/">ssllabs.com</a> or similar.</p> <p>Generally, user-facing TLS is simple to deploy, with the potential for small compatibility issues (including breaking certain browsers).</p> <p>The direction for <a href="https://security.googleblog.com/2016/09/moving-towards-more-secure-web.html">Google Chrome</a> and others is to start displaying HTTP sites in the same manner as invalid SSL is currently shown (red bars or similar), so it's highly advisable even if you don't transmit any 'sensitive info' (sensitive here includes tracking data, such as cookies).</p> <p>What about the cost? Platforms such as Lets Encrypt provide free SSL certs, trusted by all major browsers. For dedicated extended validation certificates, a few hundred dollars is a small cost for most online businesses.</p> <h2>TLS internally</h2> <p>Historically concerns about the performance of TLS have stunted the deployment internally, modern versions of the libraries combined with the current generations of CPUs mean TLS is not slow! (mostly).</p> <p>The excellent <a href="https://istlsfastyet.com/">istlsfastyet.com</a> goes into detail about the current state of TLS performance. The key takeaway is, when configured correctly, TLS at the scale of Facebook and Google performs fast enough with minimal CPU overhead.</p> <p>Using the most secure cipher suites (ECDHE) are a little more costly, but with mitigations in place (HTTP keepalives, session resumption etc), the performance overhead is negligible.</p> <p>Depending on your environment, you may purchase or use CA-signed certificates as is the case with external traffic however at a certain scale an internal certificate authority makes sense.</p> <p>There is a certain level of complexity in deploying and maintaining a secure internal certificate authority and many tools exist to help with this.</p> <p>Another advantage of an internal CA is being able to use certificate-based authentication for clients, enabling devices to prove their identity.</p> <h1>Alternatives</h1> <p>Depending on your environment, encrypting all inter-device traffic with TLS may be possible.</p> <p>Given a small load balanced LAMP stack this should be relatively easy:</p> <ul> <li>TLS from the user to the load balancer</li> <li>TLS from the load balancer to the web server</li> <li>TLS from PHP to MySQL</li> </ul> <p>However, the number of services can easily spiral, given the example above we could easily have:</p> <ul> <li>SMTP relays</li> <li>Memcache/Redis caching</li> <li>NFS based storage</li> <li>Monitoring agents</li> </ul> <p>You may also have services which don't support TLS:</p> <ul> <li>RADIUS</li> <li>Windows Distributed File Shares</li> <li>Access control / CCTV systems designed for closed networks</li> </ul> <p>There are 2 areas to consider here:</p> <ul> <li>Traffic passing over your network (Physical access restrictions in place)</li> <li>Traffic passing over external infrastructure</li> </ul> <p>For the first case:</p> <ul> <li>I strongly suggest to deploy TLS where possible, at worst, it is another layer of defence should a malicious device get into the network.</li> <li>For protocols lacking encryption support, their risk is likely low <ul> <li>If their risk is not low, I'd suggest re-evaluating the technology choice</li> <li>Inline encryption is possible but complicated to scale at this level</li> </ul> </li> </ul> <p>For the second, we have a number of options described below.</p> <h3>Layer 1 encryption</h3> <p>There are a number of 'black box' solutions, which sit in-line to the network.</p> <p>The general principle is un-encrypted data comes in one end, encrypted data comes out the other; the reverse then happens to give you un-encrypted data on the other end.</p> <div class=graphviz-wrapper> <svg role=img aria-label="layer 1 encryption" width=498pt height=99pt viewBox="0.00 0.00 498.00 99.00"> <title>layer 1 encryption</title> <desc>digraph &quot;layer 1 encryption&quot; { rankdir=LR; subgraph cluster_SiteA { label = &quot;Site A&quot;; color = black; &quot;Router A&quot;; } subgraph cluster_EncryptedNet { label = &quot;Encrypted Network&quot;; color = red; &quot;Device A&quot;; &quot;Device B&quot;; } subgraph cluster_SiteB { label = &quot;Site B&quot;; color = black; &quot;Router B&quot;; } &quot;Router A&quot; -&gt; &quot;Device A&quot; &quot;Device A&quot; -&gt; &quot;Device B&quot; &quot;Device B&quot; -&gt; &quot;Router B&quot; }</desc> <g id=graph0 class=graph transform="scale(1 1) rotate(0) translate(4 95)"> <title>layer 1 encryption</title> <polygon fill=white stroke=none points="-4,4 -4,-95 494,-95 494,4 -4,4"/> <g id=clust1 class=cluster><title>cluster_SiteA</title> <polygon fill=none stroke=black points="8,-8 8,-83 112,-83 112,-8 8,-8"/> <text text-anchor=middle x=60 y="-67.8" font-family="Times,serif" font-size="14.00">Site A</text> </g> <g id=clust2 class=cluster><title>cluster_EncryptedNet</title> <polygon fill=none stroke=red points="132,-8 132,-83 360,-83 360,-8 132,-8"/> <text text-anchor=middle x=246 y="-67.8" font-family="Times,serif" font-size="14.00">Encrypted Network</text> </g> <g id=clust3 class=cluster><title>cluster_SiteB</title> <polygon fill=none stroke=black points="380,-8 380,-83 482,-83 482,-8 380,-8"/> <text text-anchor=middle x=431 y="-67.8" font-family="Times,serif" font-size="14.00">Site B</text> </g> <g id=node1 class=node><title>Router A</title> <ellipse fill=none stroke=black cx=60 cy=-34 rx="43.5923" ry=18 /> <text text-anchor=middle x=60 y="-30.3" font-family="Times,serif" font-size="14.00">Router A</text> </g> <g id=node2 class=node><title>Device A</title> <ellipse fill=none stroke=black cx=184 cy=-34 rx="44.393" ry=18 /> <text text-anchor=middle x=184 y="-30.3" font-family="Times,serif" font-size="14.00">Device A</text> </g> <g id=edge1 class=edge><title>Router A&#45;&gt;Device A</title> <path fill=none stroke=black d="M103.67,-34C112.066,-34 120.972,-34 129.668,-34"/> <polygon fill=black stroke=black points="129.735,-37.5001 139.735,-34 129.735,-30.5001 129.735,-37.5001"/> </g> <g id=node3 class=node><title>Device B</title> <ellipse fill=none stroke=black cx=308 cy=-34 rx="44.393" ry=18 /> <text text-anchor=middle x=308 y="-30.3" font-family="Times,serif" font-size="14.00">Device B</text> </g> <g id=edge2 class=edge><title>Device A&#45;&gt;Device B</title> <path fill=none stroke=black d="M228.356,-34C236.536,-34 245.18,-34 253.625,-34"/> <polygon fill=black stroke=black points="253.784,-37.5001 263.783,-34 253.783,-30.5001 253.784,-37.5001"/> </g> <g id=node4 class=node><title>Router B</title> <ellipse fill=none stroke=black cx=431 cy=-34 rx="42.7926" ry=18 /> <text text-anchor=middle x=431 y="-30.3" font-family="Times,serif" font-size="14.00">Router B</text> </g> <g id=edge3 class=edge><title>Device B&#45;&gt;Router B</title> <path fill=none stroke=black d="M352.342,-34C360.538,-34 369.191,-34 377.63,-34"/> <polygon fill=black stroke=black points="377.772,-37.5001 387.772,-34 377.772,-30.5001 377.772,-37.5001"/> </g> </g> </svg> </div> <p>These are generally expensive appliances, licensed by port or bandwidth capability. They are also generally completely closed boxes, operating strictly at layer 1.</p> <p>Deployed across DWDM or similar networks, these devices should 'just work' and provide full encryption (layer 1 to 7). They are limited to 'point to point' links.</p> <p>A side effect of the point to point encryption is the prevention of unauthorised traffic.</p> <h3>IEEE 802.1AE (MacSec)</h3> <p>A more open and industry standard approach would be to deploy MacSec.</p> <p>MacSec provides encryption of the layer 2 header and up, but leaves the src/dest mac addresses exposed.</p> <p>It operates similar to an Ethernet frame within a layer 2 network, with the packets containing 4 fields</p> <div class=graphviz-wrapper> <svg role=img aria-label="macsec header" width=658pt height=154pt viewBox="0.00 0.00 658.00 154.00"> <title>macsec header</title> <desc>digraph &quot;macsec header&quot; { subgraph cluster { rankdir=LR; height=1.5; &quot;Destination MAC&quot; [shape=square, height=1.5]; &quot;Source MAC&quot; [shape=square, height=1.5]; &quot;Security TAG&quot; [shape=square, height=1.5]; &quot;Encrypted Data&quot; [shape=square, height=1.5]; &quot;ICV&quot; [shape=square, height=1.5]; } }</desc> <g id=graph0 class=graph transform="scale(1 1) rotate(0) translate(4 150)"> <title>macsec header</title> <polygon fill=white stroke=none points="-4,4 -4,-150 654,-150 654,4 -4,4"/> <g id=clust1 class=cluster><title>cluster</title> <polygon fill=none stroke=black points="8,-8 8,-138 642,-138 642,-8 8,-8"/> </g> <g id=node1 class=node><title>Destination MAC</title> <polygon fill=none stroke=black points="634,-130 520,-130 520,-16 634,-16 634,-130"/> <text text-anchor=middle x=577 y="-69.3" font-family="Times,serif" font-size="14.00">Destination MAC</text> </g> <g id=node2 class=node><title>Source MAC</title> <polygon fill=none stroke=black points="502,-127 394,-127 394,-19 502,-19 502,-127"/> <text text-anchor=middle x=448 y="-69.3" font-family="Times,serif" font-size="14.00">Source MAC</text> </g> <g id=node3 class=node><title>Security TAG</title> <polygon fill=none stroke=black points="376,-127 268,-127 268,-19 376,-19 376,-127"/> <text text-anchor=middle x=322 y="-69.3" font-family="Times,serif" font-size="14.00">Security TAG</text> </g> <g id=node4 class=node><title>Encrypted Data</title> <polygon fill=none stroke=black points="250,-127 142,-127 142,-19 250,-19 250,-127"/> <text text-anchor=middle x=196 y="-69.3" font-family="Times,serif" font-size="14.00">Encrypted Data</text> </g> <g id=node5 class=node><title>ICV</title> <polygon fill=none stroke=black points="124,-127 16,-127 16,-19 124,-19 124,-127"/> <text text-anchor=middle x=70 y="-69.3" font-family="Times,serif" font-size="14.00">ICV</text> </g> </g> </svg> </div> <p>Any layer 2 data outside of the mac addresses (VLAN tag, LLDP etc) is contained within the encrypted data.</p> <p>The security tag and ICV are used internally for MacSec, with the mac addresses being used for forwarding.</p> <p>There is a hardware dependency associated with MacSec, as the encryption is done in hardware to achieve line rate speeds. This varies between vendors but can be in the form of dedicated line cards or whole products.</p> <p>It is possible to offload the encryption to MacSec capable switches, allowing routers and line cards to remain, with the switch sitting inline.</p> <div class=graphviz-wrapper> <svg role=img aria-label="macsec encryption" width=498pt height=99pt viewBox="0.00 0.00 498.00 99.00"> <title>macsec encryption</title> <desc>digraph &quot;macsec encryption&quot; { rankdir=LR; subgraph cluster_SiteA { label = &quot;Site A&quot;; color = black; &quot;Router A&quot;; } subgraph cluster_EncryptedNet { label = &quot;Encrypted Network&quot;; color = red; &quot;Switch A&quot;; &quot;Switch B&quot;; } subgraph cluster_SiteB { label = &quot;Site B&quot;; color = black; &quot;Router B&quot;; } &quot;Router A&quot; -&gt; &quot;Switch A&quot; &quot;Switch A&quot; -&gt; &quot;Switch B&quot; &quot;Switch B&quot; -&gt; &quot;Router B&quot; }</desc> <g id=graph0 class=graph transform="scale(1 1) rotate(0) translate(4 95)"> <title>macsec encryption</title> <polygon fill=white stroke=none points="-4,4 -4,-95 494,-95 494,4 -4,4"/> <g id=clust1 class=cluster><title>cluster_SiteA</title> <polygon fill=none stroke=black points="8,-8 8,-83 112,-83 112,-8 8,-8"/> <text text-anchor=middle x=60 y="-67.8" font-family="Times,serif" font-size="14.00">Site A</text> </g> <g id=clust2 class=cluster><title>cluster_EncryptedNet</title> <polygon fill=none stroke=red points="132,-8 132,-83 360,-83 360,-8 132,-8"/> <text text-anchor=middle x=246 y="-67.8" font-family="Times,serif" font-size="14.00">Encrypted Network</text> </g> <g id=clust3 class=cluster><title>cluster_SiteB</title> <polygon fill=none stroke=black points="380,-8 380,-83 482,-83 482,-8 380,-8"/> <text text-anchor=middle x=431 y="-67.8" font-family="Times,serif" font-size="14.00">Site B</text> </g> <g id=node1 class=node><title>Router A</title> <ellipse fill=none stroke=black cx=60 cy=-34 rx="43.5923" ry=18 /> <text text-anchor=middle x=60 y="-30.3" font-family="Times,serif" font-size="14.00">Router A</text> </g> <g id=node2 class=node><title>Switch A</title> <ellipse fill=none stroke=black cx=184 cy=-34 rx="44.393" ry=18 /> <text text-anchor=middle x=184 y="-30.3" font-family="Times,serif" font-size="14.00">Switch A</text> </g> <g id=edge1 class=edge><title>Router A&#45;&gt;Switch A</title> <path fill=none stroke=black d="M103.67,-34C112.066,-34 120.972,-34 129.668,-34"/> <polygon fill=black stroke=black points="129.735,-37.5001 139.735,-34 129.735,-30.5001 129.735,-37.5001"/> </g> <g id=node3 class=node><title>Switch B</title> <ellipse fill=none stroke=black cx=308 cy=-34 rx="43.5923" ry=18 /> <text text-anchor=middle x=308 y="-30.3" font-family="Times,serif" font-size="14.00">Switch B</text> </g> <g id=edge2 class=edge><title>Switch A&#45;&gt;Switch B</title> <path fill=none stroke=black d="M228.356,-34C236.634,-34 245.385,-34 253.926,-34"/> <polygon fill=black stroke=black points="254.194,-37.5001 264.194,-34 254.194,-30.5001 254.194,-37.5001"/> </g> <g id=node4 class=node><title>Router B</title> <ellipse fill=none stroke=black cx=431 cy=-34 rx="42.7926" ry=18 /> <text text-anchor=middle x=431 y="-30.3" font-family="Times,serif" font-size="14.00">Router B</text> </g> <g id=edge3 class=edge><title>Switch B&#45;&gt;Router B</title> <path fill=none stroke=black d="M351.66,-34C360.072,-34 368.988,-34 377.676,-34"/> <polygon fill=black stroke=black points="377.725,-37.5001 387.725,-34 377.725,-30.5001 377.725,-37.5001"/> </g> </g> </svg> </div> <p>It may not be desirable to put a layer 2 device in your path, though it is likely that the path will already be using BFD or similar to account for any provider interruptions, which don't result in an interface flap.</p> <p>There are also some implementation considerations:</p> <ul> <li>Additional header size needs to be accounted for in downstream MTUs</li> <li>Certain providers filter layer 2 traffic, they may filter the MacSec control messages!</li> </ul> <p>As with Layer 1 encryption, this prevents unauthorised traffic entering the network, as well as protecting against interception.</p> <h3>DMVPN / Mesh VPN</h3> <p>It may be desirable in some cases to form a software-based VPN mesh over your existing network, providing encryption between 2 or more points.</p> <p>This could be in the form of a single IPsec tunnel, or a complex hub-spoke DMVPN network. These could be deployed on dedicated devices or end-user devices.</p> <p>For high traffic applications, these approaches are likely not applicable, due to line rate speeds being desirable, but in branch or remote worker applications they can be powerful options in your toolbox.</p> <div class=graphviz-wrapper> <svg role=img aria-label="vpn mesh encryption" width=714pt height=211pt viewBox="0.00 0.00 714.00 211.17"> <title>vpn mesh encryption</title> <desc>digraph &quot;vpn mesh encryption&quot; { rankdir=LR; &quot;Device A&quot; -&gt; &quot;Device B&quot; &quot;Device A&quot; -&gt; &quot;Device C&quot; &quot;Device A&quot; -&gt; &quot;Device D&quot; &quot;Device A&quot; -&gt; &quot;Device E&quot; &quot;Device A&quot; -&gt; &quot;Device F&quot; &quot;Device B&quot; -&gt; &quot;Device C&quot; &quot;Device B&quot; -&gt; &quot;Device D&quot; &quot;Device B&quot; -&gt; &quot;Device E&quot; &quot;Device B&quot; -&gt; &quot;Device F&quot; &quot;Device C&quot; -&gt; &quot;Device D&quot; &quot;Device C&quot; -&gt; &quot;Device E&quot; &quot;Device C&quot; -&gt; &quot;Device F&quot; &quot;Device D&quot; -&gt; &quot;Device E&quot; &quot;Device D&quot; -&gt; &quot;Device F&quot; &quot;Device E&quot; -&gt; &quot;Device F&quot; }</desc> <g id=graph0 class=graph transform="scale(1 1) rotate(0) translate(4 207.174)"> <title>vpn mesh encryption</title> <polygon fill=white stroke=none points="-4,4 -4,-207.174 710,-207.174 710,4 -4,4"/> <g id=node1 class=node><title>Device A</title> <ellipse fill=none stroke=black cx=44 cy="-88.1737" rx="44.393" ry=18 /> <text text-anchor=middle x=44 y="-84.4737" font-family="Times,serif" font-size="14.00">Device A</text> </g> <g id=node2 class=node><title>Device B</title> <ellipse fill=none stroke=black cx=168 cy="-88.1737" rx="44.393" ry=18 /> <text text-anchor=middle x=168 y="-84.4737" font-family="Times,serif" font-size="14.00">Device B</text> </g> <g id=edge1 class=edge><title>Device A&#45;&gt;Device B</title> <path fill=none stroke=black d="M88.3561,-88.1737C96.5363,-88.1737 105.18,-88.1737 113.625,-88.1737"/> <polygon fill=black stroke=black points="113.784,-91.6738 123.783,-88.1737 113.783,-84.6738 113.784,-91.6738"/> </g> <g id=node3 class=node><title>Device C</title> <ellipse fill=none stroke=black cx=292 cy="-157.174" rx="44.393" ry=18 /> <text text-anchor=middle x=292 y="-153.474" font-family="Times,serif" font-size="14.00">Device C</text> </g> <g id=edge2 class=edge><title>Device A&#45;&gt;Device C</title> <path fill=none stroke=black d="M77.4756,-99.9513C91.6723,-104.923 108.573,-110.606 124,-115.174 163.747,-126.942 209.429,-138.283 242.957,-146.208"/> <polygon fill=black stroke=black points="242.416,-149.676 252.951,-148.554 244.016,-142.861 242.416,-149.676"/> </g> <g id=node4 class=node><title>Device D</title> <ellipse fill=none stroke=black cx=416 cy="-39.1737" rx="44.393" ry=18 /> <text text-anchor=middle x=416 y="-35.4737" font-family="Times,serif" font-size="14.00">Device D</text> </g> <g id=edge3 class=edge><title>Device A&#45;&gt;Device D</title> <path fill=none stroke=black d="M76.0346,-75.6306C90.4019,-70.3294 107.836,-64.6004 124,-61.1737 205.59,-43.8771 302.575,-39.7282 361.42,-38.9703"/> <polygon fill=black stroke=black points="361.631,-42.4684 371.596,-38.8683 361.561,-35.4688 361.631,-42.4684"/> </g> <g id=node5 class=node><title>Device E</title> <ellipse fill=none stroke=black cx=540 cy="-39.1737" rx="43.5923" ry=18 /> <text text-anchor=middle x=540 y="-35.4737" font-family="Times,serif" font-size="14.00">Device E</text> </g> <g id=edge4 class=edge><title>Device A&#45;&gt;Device E</title> <path fill=none stroke=black d="M67.6086,-72.8964C82.9405,-63.1501 103.986,-50.935 124,-43.1737 228.029,-2.83287 260.532,-9.10811 372,-4.17367 411.073,-2.444 421.736,3.92298 460,-4.17367 475.116,-7.3723 490.857,-13.6629 504.273,-20.0395"/> <polygon fill=black stroke=black points="503.075,-23.3516 513.589,-24.6549 506.182,-17.0792 503.075,-23.3516"/> </g> <g id=node6 class=node><title>Device F</title> <ellipse fill=none stroke=black cx=663 cy="-123.174" rx="42.7926" ry=18 /> <text text-anchor=middle x=663 y="-119.474" font-family="Times,serif" font-size="14.00">Device F</text> </g> <g id=edge5 class=edge><title>Device A&#45;&gt;Device F</title> <path fill=none stroke=black d="M64.2811,-104.406C103.97,-136.106 198.832,-203.174 291,-203.174 291,-203.174 291,-203.174 417,-203.174 495.28,-203.174 580.988,-165.812 627.414,-142.154"/> <polygon fill=black stroke=black points="629.169,-145.187 636.435,-137.476 625.946,-138.973 629.169,-145.187"/> </g> <g id=edge6 class=edge><title>Device B&#45;&gt;Device C</title> <path fill=none stroke=black d="M194.575,-102.638C212.55,-112.805 236.806,-126.523 256.492,-137.657"/> <polygon fill=black stroke=black points="255.031,-140.852 265.458,-142.728 258.477,-134.759 255.031,-140.852"/> </g> <g id=edge7 class=edge><title>Device B&#45;&gt;Device D</title> <path fill=none stroke=black d="M207.979,-80.4095C250.767,-71.8867 319.54,-58.1881 365.959,-48.9421"/> <polygon fill=black stroke=black points="366.673,-52.3687 375.796,-46.9825 365.305,-45.5035 366.673,-52.3687"/> </g> <g id=edge8 class=edge><title>Device B&#45;&gt;Device E</title> <path fill=none stroke=black d="M195.603,-74.0704C233.489,-54.9633 305.754,-22.0965 372,-12.1737 410.68,-6.37993 421.418,-5.76258 460,-12.1737 473.2,-14.3671 487.154,-18.4899 499.601,-22.8652"/> <polygon fill=black stroke=black points="498.623,-26.2347 509.216,-26.3963 501.036,-19.6637 498.623,-26.2347"/> </g> <g id=edge9 class=edge><title>Device B&#45;&gt;Device F</title> <path fill=none stroke=black d="M211.888,-91.2185C302.413,-97.6452 512.684,-112.573 610.386,-119.509"/> <polygon fill=black stroke=black points="610.383,-123.018 620.606,-120.235 610.879,-116.036 610.383,-123.018"/> </g> <g id=edge10 class=edge><title>Device C&#45;&gt;Device D</title> <path fill=none stroke=black d="M306.986,-140.133C322.141,-122.118 347.458,-93.3043 372,-71.1737 375.874,-67.68 380.114,-64.1818 384.373,-60.8486"/> <polygon fill=black stroke=black points="386.645,-63.5188 392.497,-54.6869 382.414,-57.9416 386.645,-63.5188"/> </g> <g id=edge11 class=edge><title>Device C&#45;&gt;Device E</title> <path fill=none stroke=black d="M321.219,-143.638C365.68,-122.311 452.064,-80.8746 501.629,-57.0998"/> <polygon fill=black stroke=black points="503.229,-60.2139 510.732,-52.7332 500.202,-53.9024 503.229,-60.2139"/> </g> <g id=edge12 class=edge><title>Device C&#45;&gt;Device F</title> <path fill=none stroke=black d="M336.527,-155.663C393.545,-153.345 496.553,-147.994 584,-137.174 593.728,-135.97 604.084,-134.352 613.963,-132.643"/> <polygon fill=black stroke=black points="614.812,-136.047 624.04,-130.843 613.581,-129.156 614.812,-136.047"/> </g> <g id=edge13 class=edge><title>Device D&#45;&gt;Device E</title> <path fill=none stroke=black d="M460.356,-39.1737C468.634,-39.1737 477.385,-39.1737 485.926,-39.1737"/> <polygon fill=black stroke=black points="486.194,-42.6738 496.194,-39.1737 486.194,-35.6738 486.194,-42.6738"/> </g> <g id=edge14 class=edge><title>Device D&#45;&gt;Device F</title> <path fill=none stroke=black d="M450.297,-50.5897C494.239,-65.6557 571.629,-92.1892 619.675,-108.662"/> <polygon fill=black stroke=black points="618.573,-111.984 629.167,-111.917 620.843,-105.363 618.573,-111.984"/> </g> <g id=edge15 class=edge><title>Device E&#45;&gt;Device F</title> <path fill=none stroke=black d="M563.193,-54.5806C582.382,-67.9015 610.304,-87.2855 631.575,-102.052"/> <polygon fill=black stroke=black points="629.737,-105.037 639.947,-107.864 633.729,-99.2866 629.737,-105.037"/> </g> </g> </svg> </div> <h1>Summary</h1> <p>There is not a 1 solution fits all. It is very dependent upon your environment and more specifically the applications within it.</p> <p>My advice is to look at the risk in each area, design an appropriate solution and test it.</p> <p>A targeted approach keeps things simple to start, but personally, I look to provide end-to-end encryption everywhere... trusting no one.</p> <p>If you have no clear areas of risk, start with everywhere you touch the outside world, either via a public interface or provider managed services.</p> </div> </article> <section id=related> <h2>Related posts</h2> <ul id=related_posts> <li>&raquo; <a href="/2017/12/a-look-at-low-cost-tap-aggregation/">A look at low-cost tap aggregation</a></li> <li>&raquo; <a href="/2017/12/cluebot-wikimedia-labs-setup/">ClueBot Wikimedia Labs Setup</a></li> <li>&raquo; <a href="/2017/01/a-look-at-aristas-configuration-session/">A look at Arista's configuration session</a></li> </ul> </section> <section id=comment> <h2>Comments</h2> <div id=disqus_thread aria-live=polite> <noscript>Please enable JavaScript to view the comments</noscript> </div> </section> <script type="text/javascript">var disqus_identifier="http://damianzaremba.co.uk/2017/12/a-look-at-traffic-encryption-options/";var disqus_url="http://damianzaremba.co.uk/2017/12/a-look-at-traffic-encryption-options/";(function(){var a=document.createElement("script");a.type="text/javascript";a.async=true;a.src="http://damianzaremba.disqus.com/embed.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(a)}());</script> </div> <footer class=footer> <div class=container> <p class=text-muted>Copyright 2009-2017 <a href="http://damianzaremba.co.uk">Damian Zaremba</a></p> <ul id=ads> <li>Need error tracking? Try <a href="https://getsentry.com/signup/r_D0ZW/">Sentry</a></li> <li>Need cloud instances? Jump on <a href="http://www.bigv.io">BigV</a></li> <li>Want my website? <a href="https://github.com/DamianZaremba/damianzaremba.co.uk/">Source</a></li> </ul> </div> </footer> <script src="/assests/js/jquery.min.js?_v=5790ead7ad3ba27397aedfa3d263b867"></script> <script src="/assests/js/bootstrap.min.js?_v=046ba2b5f4cff7d2eaaa1af55caa9fd8"></script> <script type="text/javascript">var _gaq=_gaq||[];_gaq.push(["_require","inpage_linkid","//www.google-analytics.com/plugins/ga/inpage_linkid.js"]);_gaq.push(["_setAccount","UA-11817192-1"]);_gaq.push(["_setDomainName","damianzaremba.co.uk"]);_gaq.push(["_trackPageview"]);(function(){var b=document.createElement("script");b.type="text/javascript";b.async=true;b.src="//stats.g.doubleclick.net/dc.js";var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(b,a)})();(function(){var a=document.createElement("script");a.type="text/javascript";a.async=true;a.src="//damianzaremba.disqus.com/count.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(a)}());</script> <!--[if lt IE 9]><script src="/assests/js/html5shiv.min.js?_v=3044234175ac91f49b03ff999c592b85"></script> <script src="/assests/js/respond.min.js?_v=afc1984a3d17110449dc90cf22de0c27"></script><![endif]--> </body> </html>